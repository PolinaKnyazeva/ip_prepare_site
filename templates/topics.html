{% extends 'base.html' %}
{% block title %}Темы{% endblock %}

{% block body %}
<div class="search_add_ticket_header">
    <form class="form-inline" method="GET">
        <input class="form-control mr-sm-2 dark_theme_input" type="search" aria-label="Search"
        name="search" placeholder="Поиск по темам">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
    <div class="create_topics">
        <a type="button" class="btn btn-success" href="add_topic">Добавить тему</a>
    </div>
</div>

<h2 class="content_title">Темы</h2>
<div class="content_topics">
    {% for topic in found_topics %}
        {% if topic.password %}
            <div class="topic">
                <div class="topic_title_and_count_tickets">
{#                    <a onclick='accessPass({{ topic.id }})' href="" class="topic_title_link br">{{ topic.title }}</a>  нужно реализовать модальное окно#}
                    <a href="/topics/{{ topic.topic_id }}" class="topic_title_link br">{{ topic.title }}</a>
                    <div class="topic_count_tickets">Количество билетов: {{ len(topic.tickets) }}</div>
                </div>
                <div class="topic_type_access_and_date">
                    <div class="type_access">
                        Доступ: <div class="ml-1" style="color:#FFA07A;">Private</div>
                    </div>
                    <div class="date">Дата создания темы: {{ topic.date_creating.date() }}</div>
                </div>
            </div>
        {% else %}
            <div class="topic">
                <div class="topic_title_and_count_tickets">
                    <a href="/topics/{{ topic.topic_id }}" class="topic_title_link br">{{ topic.title }}</a>
                    <div class="topic_count_tickets">Количество билетов: {{ len(topic.tickets) }}</div>
                </div>
                <div class="topic_type_access_and_date">
                    <div class="type_access">
                        Доступ: <div class="ml-1" style="color:#3CB371;">Public</div>
                    </div>
                    <div class="date">Дата создания темы: {{ topic.date_creating.date() }}</div>
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>

    <script>
    function accessPass(topic_id) {

    }
    </script>

{% endblock %}